---
import Logo from '../components/Logo.astro';

interface Props {
  title: string;
  description?: string;
  canonicalURL?: string;
  ogImage?: string;
  keywords?: string;
}

const { 
  title, 
  description = "Talantongo - The Weight of Your Audience Matters. Transform customer interactions into meaningful, measurable value. We help franchises, retailers, and growing brands understand their audience and build systems that nurture them for life.",
  canonicalURL = Astro.url,
  ogImage = new URL('/og-image.jpg', Astro.site || Astro.url).href,
  keywords = "customer relationship management, CRM modernization, audience intelligence, lifecycle marketing, franchise solutions, customer retention, marketing automation, customer engagement, retail marketing, franchise marketing"
} = Astro.props;

const fullTitle = title.includes('Talantongo') ? title : `${title} | Talantongo`;
const siteURL = Astro.site?.href || canonicalURL.toString().replace(Astro.url.pathname, '');
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="description" content={description} />
    <meta name="keywords" content={keywords} />
    <meta name="author" content="Talantongo" />
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />
    <meta name="googlebot" content="index, follow" />
    <meta name="theme-color" content="#FF4500" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href={canonicalURL} />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content={canonicalURL} />
    <meta property="og:title" content={fullTitle} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Talantongo" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content={canonicalURL} />
    <meta name="twitter:title" content={fullTitle} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    
    <meta name="generator" content={Astro.generator} />
    <title>{fullTitle}</title>
  </head>
  <body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <header class="header" role="banner">
      <nav class="nav" role="navigation" aria-label="Main navigation">
        <a href="/" class="logo-link" aria-label="Talantongo Home">
          <Logo />
          <span class="logo-text">Talantongo</span>
        </a>
        <div class="nav-links">
          <a href="#about" aria-label="About Talantongo">About</a>
          <a href="#services" aria-label="Our Services">Services</a>
          <a href="#philosophy" aria-label="Our Philosophy">Philosophy</a>
          <a href="#values" aria-label="Our Values">Values</a>
        </div>
      </nav>
    </header>
    <main id="main-content" role="main">
      <slot />
    </main>
    <footer class="footer" role="contentinfo">
      <p>&copy; 2026 Talantongo. All rights reserved.</p>
    </footer>
  </body>
</html>

<style is:global>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  :root {
    --yellow: #FFD700;
    --orange-light: #FF8C00;
    --orange-medium: #FF7F00;
    --orange-dark: #FF4500;
    --orange-deep: #FF6347;
    --text-dark: #1a1a1a;
    --text-light: #ffffff;
    --bg-light: #FFF8E7;
    --bg-white: #ffffff;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --gray-700: #374151;
    --gray-900: #111827;
  }

  html {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Inter', Roboto, 'Helvetica Neue', Arial, sans-serif;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    background: var(--bg-white);
    color: var(--text-dark);
    line-height: 1.7;
    font-size: 16px;
  }

  .header {
    background: linear-gradient(135deg, var(--yellow) 0%, var(--orange-light) 50%, var(--orange-dark) 100%);
    padding: 1.25rem 2rem;
    box-shadow: 0 4px 12px rgba(255, 69, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
  }

  .nav {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .logo-link {
    display: flex;
    align-items: center;
    gap: 0.875rem;
    text-decoration: none;
    color: var(--text-dark);
    font-weight: 700;
    font-size: 1.375rem;
    transition: transform 0.2s;
    letter-spacing: -0.02em;
  }

  .logo-link:hover {
    transform: scale(1.02);
  }

  .logo-text {
    font-weight: 800;
    letter-spacing: -0.03em;
  }

  .nav-links {
    display: flex;
    gap: 2.5rem;
    align-items: center;
  }

  .nav-links a {
    color: var(--text-dark);
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9375rem;
    transition: color 0.2s;
    position: relative;
    letter-spacing: -0.01em;
  }

  .nav-links a:hover {
    color: var(--text-light);
  }

  .nav-links a::after {
    content: '';
    position: absolute;
    bottom: -6px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--text-light);
    transition: width 0.3s ease;
    border-radius: 2px;
  }

  .nav-links a:hover::after {
    width: 100%;
  }

  .footer {
    background: linear-gradient(135deg, var(--orange-dark) 0%, var(--orange-deep) 100%);
    color: var(--text-light);
    text-align: center;
    padding: 3rem 2rem;
    margin-top: 6rem;
  }

  .footer p {
    font-size: 0.875rem;
    color: var(--text-light);
    opacity: 0.9;
  }

  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--orange-dark);
    color: var(--text-light);
    padding: 8px;
    text-decoration: none;
    z-index: 1000;
  }

  .skip-link:focus {
    top: 0;
  }

  @media (max-width: 768px) {
    .nav {
      flex-direction: column;
      gap: 1rem;
    }

    .nav-links {
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }

    .header {
      padding: 1rem;
    }
  }

  @media (max-width: 480px) {
    .header {
      padding: 0.875rem 1rem;
    }

    .logo-link {
      font-size: 1.25rem;
    }

    .nav-links {
      gap: 0.75rem;
    }

    .nav-links a {
      font-size: 0.875rem;
    }
  }

  /* Touch target optimization for mobile */
  @media (pointer: coarse) {
    .nav-links a {
      min-height: 44px;
      display: flex;
      align-items: center;
      padding: 0.5rem 0;
    }
  }
</style>


